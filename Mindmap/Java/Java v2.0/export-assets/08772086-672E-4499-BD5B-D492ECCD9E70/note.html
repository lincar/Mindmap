
<html xmlns="http://www.w3.org/1999/xhtml">
<head>


<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title></title>

<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Chalkduster; color: #000000}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Chalkduster; color: #000000; min-height: 17.9px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px 'Heiti SC'}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
span.s1 {font-family: 'STHeitiSC-Light'; font-weight: normal; font-style: normal; font-size: 14.00pt}
span.s2 {font-family: 'Chalkduster'; font-weight: normal; font-style: normal; font-size: 14.00pt}
span.s3 {font-family: 'Helvetica'; font-weight: normal; font-style: normal; font-size: 12.00pt}
span.s4 {font-family: 'STHeitiSC-Light'; font-weight: normal; font-style: normal; font-size: 12.00pt}
</style>
</head>
<body>
<p class="p1"><span class="s1">一般很少用</span><span class="s2">WeakReference()</span><span class="s1">，更多的是使用</span><span class="s2">WeakHashMap()</span><span class="s1">。</span></p>
<p class="p2"><span class="s2"></span><br /></p>
<p class="p3"><span class="s3">//</span><span class="s4">创建一个字符串字符</span></p>
<p class="p4"><span class="s3">String str = new String("hello, rico");</span></p>
<p class="p3"><span class="s3">//</span><span class="s4">创建一个弱引用，并且引用到str</span></p>
<p class="p4"><span class="s3">WeakReference&lt;String&gt; wrReference = new WeakReference&lt;String&gt;(str);</span></p>
<p class="p3"><span class="s3">//</span><span class="s4">切断str引用</span></p>
<p class="p4"><span class="s3">str = null;</span></p>
<p class="p3"><span class="s3">//</span><span class="s4">取出弱引用所引用的内容</span></p>
<p class="p4"><span class="s3">System.out.println(wrReference.get());</span></p>
<p class="p3"><span class="s3">//</span><span class="s4">强制垃圾回收</span></p>
<p class="p4"><span class="s3">System.gc();</span></p>
<p class="p4"><span class="s3">System.runFinalization();</span></p>
<p class="p3"><span class="s3">//</span><span class="s4">取出弱引用所引用的内容</span></p>
<p class="p4"><span class="s3">System.out.println(wrReference.get());</span></p>
</body>
</html>
