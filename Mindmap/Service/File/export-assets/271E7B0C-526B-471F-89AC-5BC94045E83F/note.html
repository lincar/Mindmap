
<html xmlns="http://www.w3.org/1999/xhtml">
<head>


<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title></title>

<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Helvetica; color: #000000}
span.s1 {font-family: 'Helvetica'; font-weight: normal; font-style: normal; font-size: 14.00pt}
span.s2 {font-family: 'STHeitiSC-Light'; font-weight: normal; font-style: normal; font-size: 14.00pt}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1">public static void ZipMultiFile(String filepath ,String zippath) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>try {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>File file = new File(filepath);// </span><span class="s2">要被压缩的文件夹</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>File zipFile = new File(zippath);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>InputStream input = null;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>ZipOutputStream zipOut = new ZipOutputStream(new FileOutputStream(zipFile));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if(file.isDirectory()){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>File[] files = file.listFiles();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>for(int i = 0; i &lt; files.length; ++i){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>input = new FileInputStream(files[i]);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>zipOut.putNextEntry(new ZipEntry(file.getName() + File.separator + files[i].getName()));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>int temp = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>while((temp = input.read()) != -1){</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                    </span>zipOut.write(temp);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">                </span>input.close();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>zipOut.close();</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>} catch (Exception e) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>e.printStackTrace();</span></p>
<p class="p1"><span class="s1"><span class="Apple-tab-span">	</span>}</span></p>
<p class="p1"><span class="s1">}</span></p>
</body>
</html>
